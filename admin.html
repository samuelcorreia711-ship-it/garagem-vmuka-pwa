<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel Admin - Vmuka-Car</title>

<style>

body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:#050505;
  color:white;
  padding:20px;
}

h1{
  text-align:center;
  color:#00cfff;
}

.card{
  background:rgba(255,255,255,0.07);
  padding:15px;
  border-radius:15px;
  margin-bottom:15px;
  border:1px solid rgba(255,255,255,0.1);
}

button{
  padding:8px 12px;
  border:none;
  border-radius:10px;
  cursor:pointer;
  margin-top:8px;
}

.liberar{
  background:#00cfff;
}

.excluir{
  background:#ff4444;
  color:white;
}

.whats{
  background:#25D366;
  color:white;
}

.login{
  max-width:300px;
  margin:100px auto;
  text-align:center;
}

input{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:none;
  margin-top:10px;
}

</style>
</head>

<body>

<div id="loginArea" class="login">
<h2>ðŸ”’ Painel Administrativo</h2>
<input type="password" id="senha" placeholder="Digite a senha">
<button onclick="entrar()">Entrar</button>
</div>

<div id="painel" style="display:none;">
<h1>ðŸ’Ž Agendamentos Vmuka-Car</h1>
<div id="lista"></div>
<button onclick="limparTudo()" class="excluir">Limpar Todos</button>
</div>

<script>

const SENHA_CORRETA = "1234"; // vocÃª pode mudar

function entrar(){
  const senha = document.getElementById("senha").value;
  if(senha === SENHA_CORRETA){
    document.getElementById("loginArea").style.display="none";
    document.getElementById("painel").style.display="block";
    carregar();
  }else{
    alert("Senha incorreta");
  }
}

function carregar(){
  const listaDiv=document.getElementById("lista");
  const agendamentos=JSON.parse(localStorage.getItem("agendamentos"))||[];

  listaDiv.innerHTML="";

  if(agendamentos.length===0){
    listaDiv.innerHTML="<p>Nenhum agendamento</p>";
    return;
  }

  agendamentos.forEach((ag,index)=>{

    listaDiv.innerHTML+=`
    <div class="card">
      <b>${ag.data}</b> - ${ag.horario}<br><br>

      <button class="liberar" onclick="liberar(${index})">
        Liberar HorÃ¡rio
      </button>

      <button class="excluir" onclick="excluir(${index})">
        Excluir
      </button>
    </div>
    `;
  });
}

function liberar(index){
  let agendamentos=JSON.parse(localStorage.getItem("agendamentos"))||[];
  agendamentos.splice(index,1);
  localStorage.setItem("agendamentos",JSON.stringify(agendamentos));
  carregar();
}

function excluir(index){
  liberar(index);
}

function limparTudo(){
  if(confirm("Deseja apagar todos agendamentos?")){
    localStorage.removeItem("agendamentos");
    carregar();
  }
}

</script>

</body>
</html>
