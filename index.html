<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Garagem Vmuka-Car Est√©tica Automotiva</title>

<link rel="manifest" href="manifest.json">
<link rel="icon" sizes="192x192" href="icon192.png">
<link rel="icon" sizes="512x512" href="icon512.png">
<meta name="theme-color" content="#00bfff">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: url("logo.png") no-repeat center center fixed;
  background-size: 600px;
  background-color: #000;
  color: white;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  z-index: -1;
}

.container {
  max-width: 420px;
  margin: 40px auto;
  background: rgba(0,0,0,0.6);
  padding: 25px;
  border-radius: 25px;
  box-shadow: 0 0 30px rgba(0,200,255,0.5);
}

h1 {
  text-align: center;
  color: #00cfff;
}

.sub {
  text-align: center;
  font-size: 14px;
  margin-bottom: 20px;
}

input, select {
  width: 100%;
  padding: 12px;
  margin: 8px 0;
  border-radius: 12px;
  border: none;
  background: rgba(255,255,255,0.15);
  color: white;
}

.servicos {
  background: rgba(255,255,255,0.05);
  padding: 15px;
  border-radius: 15px;
  margin-top: 10px;
}

.servicos label {
  display: block;
  margin: 8px 0;
}

.total {
  margin-top: 15px;
  font-size: 18px;
  color: #00ffcc;
  font-weight: bold;
  text-align: center;
}

button {
  width: 100%;
  padding: 14px;
  margin-top: 15px;
  border-radius: 12px;
  border: none;
  background: #00cfff;
  color: black;
  font-weight: bold;
  cursor: pointer;
}

button.loading {
  opacity: 0.6;
  pointer-events: none;
}
</style>
</head>

<body>

<div class="container">

<h1>Garagem Vmuka-Car</h1>
<p class="sub">Atendimento de Segunda a S√°bado at√© 18:00 üöó‚ú®</p>

<input type="text" id="nome" placeholder="Seu nome completo">
<input type="tel" id="telefone" placeholder="Seu telefone">
<input type="text" id="veiculo" placeholder="Modelo do ve√≠culo">

<label>Tamanho do Ve√≠culo:</label>
<select id="tamanho" onchange="calcularTotal()">
  <option value="">Selecione</option>
  <option value="Pequeno">Pequeno</option>
  <option value="M√©dio">M√©dio</option>
  <option value="Grande">Grande</option>
</select>

<div class="servicos" id="servicos">

<strong>Escolha os Servi√ßos:</strong>

<label><input type="checkbox" value="Lavagem Simples"> Lavagem Simples - R$40</label>
<label><input type="checkbox" value="Lavagem Premium"> Lavagem Premium - R$80</label>
<label><input type="checkbox" value="Polimento T√©cnico"> Polimento T√©cnico - R$350</label>
<label><input type="checkbox" value="Polimento + Vitrifica√ß√£o"> Polimento + Vitrifica√ß√£o - R$900</label>
<label><input type="checkbox" value="Higieniza√ß√£o Bancos"> Higieniza√ß√£o Bancos - R$150</label>
<label><input type="checkbox" value="Higieniza√ß√£o Completa"> Higieniza√ß√£o Completa - R$300</label>

</div>

<div class="total" id="totalValor">Total: R$0,00</div>

<select id="dia">
<option value="">Selecione o dia</option>
<option>Segunda-feira</option>
<option>Ter√ßa-feira</option>
<option>Quarta-feira</option>
<option>Quinta-feira</option>
<option>Sexta-feira</option>
<option>S√°bado</option>
</select>

<select id="horario">
<option value="">Selecione o hor√°rio</option>
<option>08:00</option>
<option>09:00</option>
<option>10:00</option>
<option>11:00</option>
<option>13:00</option>
<option>14:00</option>
<option>15:00</option>
<option>16:00</option>
<option>17:00</option>
<option>18:00</option>
</select>

<button id="btnAgendar" onclick="enviarWhatsApp()">Confirmar Agendamento</button>

</div>

<script>
  <script>

const precos = {
  "Lavagem Simples": 40,
  "Lavagem Premium": 80,
  "Polimento T√©cnico": 350,
  "Polimento + Vitrifica√ß√£o": 900,
  "Higieniza√ß√£o Bancos": 150,
  "Higieniza√ß√£o Completa": 300
};

const multiplicador = {
  "Pequeno": 1,
  "M√©dio": 1.25,
  "Grande": 1.5
};

document.querySelectorAll("#servicos input").forEach(cb => {
  cb.addEventListener("change", calcularTotal);
});

document.getElementById("dia").addEventListener("change", bloquearHorarios);

function calcularTotal() {

  const tamanho = document.getElementById("tamanho").value;
  const selecionados = document.querySelectorAll("#servicos input:checked");

  let total = 0;

  selecionados.forEach(item => {
    total += precos[item.value] * (multiplicador[tamanho] || 1);
  });

  if (selecionados.length >= 2) {
    total *= 0.95;
  }

  document.getElementById("totalValor").innerText =
    "Total: R$" + total.toFixed(2);
}

function bloquearHorarios() {

  const diaSelecionado = document.getElementById("dia").value;
  const horarios = document.getElementById("horario").options;

  const agendamentos = JSON.parse(localStorage.getItem("agendamentos")) || [];

  for (let i = 0; i < horarios.length; i++) {
    horarios[i].disabled = false;
  }

  agendamentos.forEach(ag => {
    if (ag.dia === diaSelecionado) {
      for (let i = 0; i < horarios.length; i++) {
        if (horarios[i].value === ag.horario) {
          horarios[i].disabled = true;
        }
      }
    }
  });
}

function enviarWhatsApp() {

  const botao = document.getElementById("btnAgendar");
  botao.classList.add("loading");
  botao.innerText = "Enviando...";

  const nome = document.getElementById("nome").value;
  const telefone = document.getElementById("telefone").value;
  const veiculo = document.getElementById("veiculo").value;
  const tamanho = document.getElementById("tamanho").value;
  const dia = document.getElementById("dia").value;
  const horario = document.getElementById("horario").value;

  const selecionados = document.querySelectorAll("#servicos input:checked");

  if (!nome || !telefone || !veiculo || !tamanho || selecionados.length === 0 || !dia || !horario) {
    alert("Preencha todos os campos");
    botao.classList.remove("loading");
    botao.innerText = "Confirmar Agendamento";
    return;
  }

  let lista = "";
  let total = 0;

  selecionados.forEach(item => {
    const valor = precos[item.value] * multiplicador[tamanho];
    total += valor;
    lista += "- " + item.value + " (R$" + valor.toFixed(2) + ")\n";
  });

  let desconto = 0;
  if (selecionados.length >= 2) {
    desconto = total * 0.05;
    total *= 0.95;
  }

  let agendamentos = JSON.parse(localStorage.getItem("agendamentos")) || [];

  agendamentos.push({
    nome,
    telefone,
    veiculo,
    servicos: lista,
    dia,
    horario
  });

  localStorage.setItem("agendamentos", JSON.stringify(agendamentos));

  bloquearHorarios();

  const mensagem =
`üöó NOVO AGENDAMENTO üöó

Nome: ${nome}
Telefone: ${telefone}
Ve√≠culo: ${veiculo}
Tamanho: ${tamanho}

Servi√ßos:
${lista}

Desconto: R$${desconto.toFixed(2)}
Total Final: R$${total.toFixed(2)}

Dia: ${dia}
Hor√°rio: ${horario}`;

  const numero = "5519991984539";
  const url = `https://wa.me/${numero}?text=${encodeURIComponent(mensagem)}`;

  setTimeout(() => {
    window.open(url, "_blank");
    botao.classList.remove("loading");
    botao.innerText = "Confirmar Agendamento";
  }, 800);
}

window.onload = bloquearHorarios;

</script>
  

  
