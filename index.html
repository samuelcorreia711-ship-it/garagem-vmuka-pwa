<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Garagem Vmuka-Car Est√©tica Automotiva</title>

<link rel="manifest" href="manifest.json">
<link rel="icon" sizes="192x192" href="icon192.png">
<link rel="icon" sizes="512x512" href="icon512.png">
<meta name="theme-color" content="#00bfff">

<style>
body{
  margin:0;
  font-family:Arial;
  background:url("logo.png") no-repeat center center fixed;
  background-size:500px;
  background-color:#000;
  color:white;
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.25);
  z-index:-1;
}

.container{
  max-width:420px;
  margin:40px auto;
  background:rgba(0,0,0,0.6);
  backdrop-filter:blur(6px);
  padding:25px;
  border-radius:25px;
  box-shadow:0 0 30px rgba(0,200,255,0.5);
}

h1{
  text-align:center;
  color:#00cfff;
}

input,select{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:12px;
  border:none;
  background:rgba(255,255,255,0.15);
  color:white;
}

button{
  width:100%;
  padding:14px;
  margin-top:15px;
  border-radius:12px;
  border:none;
  background:#00cfff;
  color:black;
  font-weight:bold;
  cursor:pointer;
  transition:0.2s;
}

button:hover{
  transform:scale(1.03);
}

button.loading{
  opacity:0.6;
  pointer-events:none;
}

.grade-horarios{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  margin-top:15px;
}

.grade-horarios button{
  padding:12px;
  border-radius:12px;
  border:none;
  font-weight:bold;
  cursor:pointer;
}

.livre{background:#00cfff;color:black;}
.ocupado{background:#444;color:#999;cursor:not-allowed;}
.selecionado{background:#00ff88 !important;color:black;transform:scale(1.08);}

#totalValor{
  margin-top:15px;
  font-weight:bold;
  color:#00ffcc;
}
</style>
</head>

<body>

<div class="container">

<h1>Garagem Vmuka-Car</h1>

<input type="text" id="nome" placeholder="Seu nome completo">
<input type="tel" id="telefone" placeholder="Seu telefone">
<input type="text" id="veiculo" placeholder="Modelo do ve√≠culo">

<label>Escolha o servi√ßo:</label>
<select id="servico" onchange="mostrarDetalhes()">
<option value="">Selecione</option>
<option value="lavagem">Lavagem</option>
<option value="polimento">Polimento</option>
<option value="higienizacao">Higieniza√ß√£o</option>
</select>

<div id="detalhesServico"></div>

<select id="dia">
<option value="">Selecione a data</option>
</select>

<h3>Escolha seu hor√°rio</h3>
<div id="gradeHorarios" class="grade-horarios"></div>
<input type="hidden" id="horarioSelecionado">

<div id="totalValor">Total: R$0.00</div>

<button id="btnAgendar" onclick="enviarWhatsApp()">Confirmar Agendamento</button>

</div>

<script>

const precos={
"Lavagem Simples":40,
"Lavagem Premium":80,
"Polimento T√©cnico":350,
"Polimento + Vitrifica√ß√£o":900,
"Higieniza√ß√£o Bancos":150,
"Higieniza√ß√£o Completa":300
};

function mostrarDetalhes(){
const s=document.getElementById("servico").value;
const d=document.getElementById("detalhesServico");

if(s==="lavagem"){
d.innerHTML=`
<label><input type="checkbox" value="Lavagem Simples"> Lavagem Simples - R$40</label><br>
<label><input type="checkbox" value="Lavagem Premium"> Lavagem Premium - R$80</label>`;
}

else if(s==="polimento"){
d.innerHTML=`
<label><input type="checkbox" value="Polimento T√©cnico"> Polimento T√©cnico - R$350</label><br>
<label><input type="checkbox" value="Polimento + Vitrifica√ß√£o"> Polimento + Vitrifica√ß√£o - R$900</label>`;
}

else if(s==="higienizacao"){
d.innerHTML=`
<label><input type="checkbox" value="Higieniza√ß√£o Bancos"> Bancos - R$150</label><br>
<label><input type="checkbox" value="Higieniza√ß√£o Completa"> Completa - R$300</label>`;
}

setTimeout(()=>{
document.querySelectorAll("#detalhesServico input")
.forEach(cb=>cb.addEventListener("change",calcularTotal));
},100);
}

function calcularTotal(){
let total=0;
const selecionados=document.querySelectorAll("#detalhesServico input:checked");

selecionados.forEach(item=>{
total+=precos[item.value]||0;
});

if(selecionados.length>=2){
total*=0.95;
}

document.getElementById("totalValor").innerText=
"Total: R$"+total.toFixed(2);
}

function gerarDatas(){
const select=document.getElementById("dia");
const hoje=new Date();

for(let i=0;i<14;i++){
const data=new Date();
data.setDate(hoje.getDate()+i);

if(data.getDay()!==0){

const nomeDia=data.toLocaleDateString("pt-BR",{weekday:"long"});
const formatada=data.toLocaleDateString("pt-BR");

const texto=nomeDia.charAt(0).toUpperCase()+nomeDia.slice(1)+" - "+formatada;

const option=document.createElement("option");
option.value=texto;
option.textContent=texto;

select.appendChild(option);
}
}
}
gerarDatas();

const horariosPadrao=["08:00","09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00","18:00"];

function gerarHorarios(){
const dia=document.getElementById("dia").value;
const grade=document.getElementById("gradeHorarios");
grade.innerHTML="";
if(!dia)return;

const agendamentos=JSON.parse(localStorage.getItem("agendamentos"))||[];

const ocupados=agendamentos.filter(a=>a.dia===dia).map(a=>a.horario);

horariosPadrao.forEach(hora=>{
const botao=document.createElement("button");
botao.innerText=hora;

if(ocupados.includes(hora)){
botao.classList.add("ocupado");
botao.disabled=true;
}else{
botao.classList.add("livre");
botao.onclick=()=>selecionarHorario(botao,hora);
}

grade.appendChild(botao);
});
}

function selecionarHorario(botao,hora){
document.querySelectorAll(".grade-horarios button")
.forEach(b=>b.classList.remove("selecionado"));

botao.classList.add("selecionado");
document.getElementById("horarioSelecionado").value=hora;
}

document.getElementById("dia").addEventListener("change",gerarHorarios);

function enviarWhatsApp(){

const botao=document.getElementById("btnAgendar");
botao.classList.add("loading");
botao.innerText="Enviando...";

const nome=document.getElementById("nome").value;
const telefone=document.getElementById("telefone").value;
const veiculo=document.getElementById("veiculo").value;
const dia=document.getElementById("dia").value;
const horario=document.getElementById("horarioSelecionado").value;
const selecionados=document.querySelectorAll("#detalhesServico input:checked");

if(!nome||!telefone||!veiculo||!dia||!horario||selecionados.length===0){
alert("Preencha todos os campos");
botao.classList.remove("loading");
botao.innerText="Confirmar Agendamento";
return;
}

let lista="";
let total=0;

selecionados.forEach(item=>{
lista+=item.value+"\n";
total+=precos[item.value]||0;
});

if(selecionados.length>=2){total*=0.95;}

const agendamentos=JSON.parse(localStorage.getItem("agendamentos"))||[];
agendamentos.push({nome,dia,horario});
localStorage.setItem("agendamentos",JSON.stringify(agendamentos));

const mensagem=
`üöó NOVO AGENDAMENTO üöó

Nome: ${nome}
Telefone: ${telefone}
Ve√≠culo: ${veiculo}

Servi√ßos:
${lista}

Total: R$${total.toFixed(2)}

Data: ${dia}
Hor√°rio: ${horario}`;

const numero="5519991984539";
const url=`https://wa.me/${numero}?text=${encodeURIComponent(mensagem)}`;

setTimeout(()=>{
window.open(url,"_blank");
botao.classList.remove("loading");
botao.innerText="Confirmar Agendamento";
},800);
}

</script>
</body>
</html>
